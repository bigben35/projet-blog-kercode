const APIKEY="4de684117da6ef7c4cd76cefabd7247e",imgIcone=document.querySelector(".logo-meteo"),jourPrevision=document.querySelectorAll(".jour-prevision-nom"),tempJourPrevision=document.querySelectorAll(".jour-prevision-temp"),joursSemaine=["Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi","Dimanche"];function weatherIceland(){fetch(`https://api.openweathermap.org/data/2.5/weather?lat=64.1184&lon=-21.858&lang=fr&units=metric&exclude=minutely,hourly&appid=${APIKEY}`).then((e=>e.json())).then((e=>{drawWeather(e),getIcon(e)})).catch((()=>{console.log("error")}))}function drawWeather(e){let r=Math.round(parseFloat(e.main.temp));document.querySelector(".temps").textContent=e.weather[0].description,document.querySelector(".temperature").innerHTML=r+" °C",document.querySelector(".localisation").textContent=e.name;for(let e=0;e<7;e++)tempJourPrevision[e].innerHTML=r+" °C"}function getIcon(e){let r=(new Date).getHours()-2;imgIcone.src=r>=7&&r<20?`app/Public/ressources/jour/${e.weather[0].icon}.svg`:`app/Public/ressources/nuit/${e.weather[0].icon}.svg`}function tempJour(e){}window.onload=()=>{weatherIceland()};let aujourdhui=new Date,jourActuel=aujourdhui.toLocaleDateString("fr-FR",{weekday:"long"});jourActuel=jourActuel.charAt(0).toUpperCase()+jourActuel.slice(1);let ordreJours=joursSemaine.slice(joursSemaine.indexOf(jourActuel)).concat(joursSemaine.slice(0,joursSemaine.indexOf(jourActuel)));for(let e=0;e<ordreJours.length;e++)jourPrevision[e].innerText=ordreJours[e].slice(0,3);